<div class="dm-group stacked">
  <div class="dm-track">
    @for (it of items(); track it.label) {
      <div
        class="dm-fill"
        [style.width.%]="widthFor(it.value)"
        [style.background]="it.color || ''"
        [attr.title]="it.label + ' ' + fmt(it.value) + '%'"
      ></div>
    }
  </div>

  <div class="dm-legend">
    @for (it of items(); track it.label) {
      <span class="dm-leg-item">
        <span class="dm-leg-color" [style.background]="it.color || ''"></span>
        {{ it.label }} ({{ fmt(it.value) }}%)
      </span>
    }
  </div>
</div>