<div class="nav-content">
  <a href="/" class="logo">
    <span class="material-symbols-outlined">home</span>
  </a>


  <div style="display: inline-flex;">
      <button
      *ngIf="!menuOpen"
      type="button"
      class="lang-switch-mobile"
      (click)="toggleLang()"
      [attr.aria-label]="'Switch to ' + (currentLang === 'pl' ? 'English' : 'Polish')"
    >
      <img
        [src]="currentLang === 'pl' ? flags.en : flags.pl"
        width="28"
        height="28"
        [alt]="currentLang === 'pl' ? 'English flag' : 'Polish flag'"
      />
    </button>
    <button
      type="button"
      class="theme-toggle-mobile"
      (click)="onToggleTheme()"
      [attr.aria-label]="'Switch to ' + (isDark ? 'light' : 'dark') + ' theme'">
      <span class="icon-wrap">
        <span class="material-symbols-outlined icon sun" aria-hidden="true">light_mode</span>
        <span class="material-symbols-outlined icon moon" aria-hidden="true">dark_mode</span>
      </span>
    </button>
    <button
      type="button"
      class="burger"
      aria-label="Toggle navigation"
      [attr.aria-expanded]="menuOpen"
      (click)="toggleMenu()"
    >
      <span class="material-symbols-outlined" *ngIf="!menuOpen">menu</span>
      <span class="material-symbols-outlined close-burger" *ngIf="menuOpen">close</span>
    </button>
  </div>

  <div class="right-group">
      <nav class="sidebar-nav">
        <ul>
          <li
            *ngFor="let s of sections"
            [class.active]="isActive(s.id)"
            (click)="scrollTo(s.id)"
            [attr.aria-current]="isActive(s.id) ? 'location' : null"
          >
            <ng-container *ngIf="s.title !== 'Home'"><b>{{ s.title }}</b></ng-container>
          </li>
        </ul>
      </nav>

      <button
        type="button"
        class="lang-switch"
        (click)="toggleLang()"
        [attr.aria-label]="'Switch to ' + (currentLang === 'pl' ? 'English' : 'Polish')"
      >
        <img
          [src]="currentLang === 'pl' ? flags.en : flags.pl"
          width="24"
          height="24"
          [alt]="currentLang === 'pl' ? 'English flag' : 'Polish flag'"
        />
      </button>
      <button
        type="button"
        class="theme-toggle"
        (click)="onToggleTheme()"
        [attr.aria-label]="'Switch to ' + (isDark ? 'light' : 'dark') + ' theme'">
        <span class="material-symbols-outlined icon sun" aria-hidden="true">light_mode</span>
        <span class="material-symbols-outlined icon moon" aria-hidden="true">dark_mode</span>
      </button>
    </div>
  </div>

  <div class="overlay" [class.open]="menuOpen" (click)="toggleMenu()">
  <nav class="overlay-nav" (click)="$event.stopPropagation()">
    <ul>
      <li
        *ngFor="let s of sections"
        [class.active]="isActive(s.id)"
        (click)="scrollTo(s.id); menuOpen = false"
        [attr.aria-current]="isActive(s.id) ? 'location' : null"
      >
        <ng-container *ngIf="s.title !== 'Home'"><b>{{ s.title }}</b></ng-container>
      </li>
    </ul>

    <button
      type="button"
      class="lang-switch"
      (click)="toggleLang()"
      [attr.aria-label]="'Switch to ' + (currentLang === 'pl' ? 'English' : 'Polish')"
    >
      <img
        [src]="currentLang === 'pl' ? flags.en : flags.pl"
        width="28"
        height="28"
        [alt]="currentLang === 'pl' ? 'English flag' : 'Polish flag'"
      />
    </button>
  </nav>
</div>
